"use strict";(self.webpackChunkavail_docs_wiki=self.webpackChunkavail_docs_wiki||[]).push([[6789],{3905:(e,t,a)=>{a.d(t,{Zo:()=>c,kt:()=>m});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var l=n.createContext({}),d=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},c=function(e){var t=d(e.components);return n.createElement(l.Provider,{value:t},e.children)},p="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},v=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),p=d(a),v=r,m=p["".concat(l,".").concat(v)]||p[v]||u[v]||i;return a?n.createElement(m,o(o({ref:t},c),{},{components:a})):n.createElement(m,o({ref:t},c))}));function m(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,o=new Array(i);o[0]=v;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[p]="string"==typeof e?e:r,o[1]=s;for(var d=2;d<i;d++)o[d]=a[d];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}v.displayName="MDXCreateElement"},491:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>u,frontMatter:()=>i,metadata:()=>s,toc:()=>d});var n=a(7462),r=(a(7294),a(3905));a(4996);const i={id:"binaries",title:"How to Run a Validator Node using Binaries",sidebar_label:"Using Binaries",description:"Learn about running an Avail validator using binaries.",keywords:["docs","avail","node","validator"],image:"https://availproject.github.io/img/avail/AvailDocs.png"},o=void 0,s={unversionedId:"operate/validator/binaries",id:"operate/validator/binaries",title:"How to Run a Validator Node using Binaries",description:"Learn about running an Avail validator using binaries.",source:"@site/docs/operate/validator/0010-validator-node-binaries.md",sourceDirName:"operate/validator",slug:"/operate/validator/binaries",permalink:"/operate/validator/binaries",draft:!1,editUrl:"https://github.com/availproject/availproject.github.io/tree/main/docs/operate/validator/0010-validator-node-binaries.md",tags:[],version:"current",lastUpdatedBy:"DSalman03",lastUpdatedAt:1694833174,formattedLastUpdatedAt:"Sep 16, 2023",sidebarPosition:10,frontMatter:{id:"binaries",title:"How to Run a Validator Node using Binaries",sidebar_label:"Using Binaries",description:"Learn about running an Avail validator using binaries.",keywords:["docs","avail","node","validator"],image:"https://availproject.github.io/img/avail/AvailDocs.png"},sidebar:"avail",previous:{title:"Run a Validator Node",permalink:"/category/run-a-validator-node"},next:{title:"Using Docker",permalink:"/operate/validator/docker"}},l={},d=[{value:"Preliminaries",id:"preliminaries",level:2},{value:"Run a Validator Node",id:"run-a-validator-node",level:2}],c={toc:d},p="wrapper";function u(e){let{components:t,...a}=e;return(0,r.kt)(p,(0,n.Z)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"preliminaries"},"Preliminaries"),(0,r.kt)("p",null,"Validator nodes hold a pivotal role in maintaining network integrity by staking real-value tokens. Successfully managing a validator comes with a comprehensive grasp of node operations, hardware configuration, and constant vigilance. Validators face the potential consequences of penalties, such as slashing, for infractions like extended periods of offline activity or equivocation. This responsibility underscores the need for a profound understanding of the associated risks."),(0,r.kt)("admonition",{title:"System administration",type:"warning"},(0,r.kt)("p",{parentName:"admonition"},"While Avail is currently in its testnet phase, running validator nodes requires significant system administration expertise.")),(0,r.kt)("p",null,"Becoming a validator is a significant responsibility because mistakes or errors can jeopardize not just your tokens but also your reputation, given your role in managing both your stake and that of your nominators. Despite these challenges, it offers a rewarding chance to enhance network security and be incentivized."),(0,r.kt)("admonition",{title:"Onboarding",type:"info"},(0,r.kt)("p",{parentName:"admonition"},"Please join the ",(0,r.kt)("a",{parentName:"p",href:"https://discord.com/invite/y6fHnxZQX8"},(0,r.kt)("ins",null,"Avail Discord"))," for up-to-date information on the Kate Testnet and\nvalidator onboarding.")),(0,r.kt)("h2",{id:"run-a-validator-node"},"Run a Validator Node"),(0,r.kt)("p",null,"First, follow the steps for running a full node as outlined in the\n",(0,r.kt)("a",{parentName:"p",href:"/category/run-a-validator-node/"},"Full Node Setup Instructions"),"."),(0,r.kt)("p",null,"To run a validator, you'll use the same command line as for the full node, but with the addition of the ",(0,r.kt)("inlineCode",{parentName:"p"},"--validator")," option to the command."),(0,r.kt)("p",null,"For example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"./data-avail --validator \\\n    --port 30333 \\\n    --base-path `pwd`/data \\\n    --chain `pwd`/chainspec.raw.json\n")),(0,r.kt)("p",null,"The node will ouput the following when started:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'2023-06-03 20:36:29 Avail Node\n2023-06-03 20:36:29 \u270c\ufe0f  version 1.6.0-99b85257d6b\n2023-06-03 20:36:29 \u2764\ufe0f  by Anonymous, 2017-2023\n2023-06-03 20:36:29 \ud83d\udccb Chain specification: Avail Kate Testnet\n2023-06-03 20:36:29 \ud83c\udff7  Node name: bewildered-distance-1229\n2023-06-03 20:36:29 \ud83d\udc64 Role:Authority\n2023-06-03 20:36:29 \ud83d\udcbe Database: RocksDb at /Users/thunder/code/avail/data/chains/Avail Testnet_6831251e-0222-11ee-a2c3-c90377335962/db/full\n2023-06-03 20:36:29 \u26d3  Native runtime: data-avail-9 (data-avail-0.tx1.au11)\n2023-06-03 20:36:35 \ud83d\udc76 Creating empty BABE epoch changes on what appears to be first startup.\n2023-06-03 20:36:35 \ud83c\udff7  Local node identity is: 12D3KooWPt7odw3aeq7azZDugXjNuUvQNPU58n1VRBzY1YBqsjkr\n2023-06-03 20:36:35 Prometheus metrics extended with avail metrics\n2023-06-03 20:36:35 \ud83d\udcbb Operating system: macos\n2023-06-03 20:36:35 \ud83d\udcbb CPU architecture: aarch64\n2023-06-03 20:36:35 \ud83d\udce6 Highest known block at #0\n2023-06-03 20:36:35 \u303d\ufe0f Prometheus exporter started at 127.0.0.1:9615\n2023-06-03 20:36:35 Running JSON-RPC HTTP server: addr=127.0.0.1:9933, allowed origins=["http://localhost:*", "http://127.0.0.1:*", "https://localhost:*", "https://127.0.0.1:*", "https://polkadot.js.org"]\n2023-06-03 20:36:35 Running JSON-RPC WS server: addr=127.0.0.1:9944, allowed origins=["http://localhost:*", "http://127.0.0.1:*", "https://localhost:*", "https://127.0.0.1:*", "https://polkadot.js.org"]\n2023-06-03 20:36:35 \ud83c\udfc1 CPU score: 724.71 MiBs\n2023-06-03 20:36:35 \ud83c\udfc1 Memory score: 41.49 GiBs\n2023-06-03 20:36:35 \ud83c\udfc1 Disk score (seq. writes): 1.91 GiBs\n2023-06-03 20:36:35 \ud83c\udfc1 Disk score (rand. writes): 454.66 MiBs\n')),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Please take note that the role now displays as ",(0,r.kt)("inlineCode",{parentName:"strong"},"Authority"),", indicating that your node is operating as a validator node.")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"If you were previously running a full node and added the ",(0,r.kt)("inlineCode",{parentName:"p"},"--validator")," flag after syncing, you may encounter an error expecting an archive database. In such cases, it's necessary to purge the existing database and then restart the node.")),(0,r.kt)("p",null,"For the best practice, it is highly recommended to run your node as a service."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"sudo tee /etc/systemd/system/availd.service > /dev/null <<'EOF'\n[Unit]\nDescription=Avail Validator\nAfter=network.target\nStartLimitIntervalSec=0\n\n[Service]\nUser=avail\nType=simple\nRestart=always\nRestartSec=120\nExecStart=/home/avail/avail-node/data-avail --base-path /home/avail/avail-node/data --chain /home/avail/avail-node/chainspec.raw.json --port 30333 --validator --name MyAvailNode\n\n[Install]\nWantedBy=multi-user.target\nEOF\n")),(0,r.kt)("p",null,"Enable auto restart on for your Avail node:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"sudo systemctl daemon-reload\nsudo systemctl enable availd.service \n")),(0,r.kt)("p",null,"Start your avail node:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"sudo systemctl start availd.service \n")),(0,r.kt)("p",null,"Check the node is running:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"sudo systemctl status availd.service\n")),(0,r.kt)("p",null,"View the logs from the running service:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"journalctl -f -u availd.service\n")))}u.isMDXComponent=!0}}]);